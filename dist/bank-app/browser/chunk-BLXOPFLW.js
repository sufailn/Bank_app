import{N as I,Q as L,R as F,S as R,T as O,U as W,W as E,X as k,a as w,d as _,e as S,f as y,g as N,h as v,k as x,l as P}from"./chunk-QHAEJ624.js";import{a as D,f as C,i as T}from"./chunk-FOCAKRSB.js";import"./chunk-IX6G3U3V.js";import{Bb as s,Db as q,Eb as p,Fb as c,Gb as g,Ib as h,Ja as u,Ka as d,Z as B,ha as b,ia as j,jc as M,kb as i,lb as r,sb as f}from"./chunk-C5AY5LDE.js";var A=(()=>{let e=class e{constructor(a,o){this.authService=a,this.router=o,this.accountNumber="",this.name="",this.password=""}onRegister(){let a={accountNumber:this.accountNumber,name:this.name,password:this.password,balance:0};this.authService.register(a).subscribe(()=>{this.router.navigate(["/auth/login"])})}};e.\u0275fac=function(o){return new(o||e)(d(k),d(C))},e.\u0275cmp=b({type:e,selectors:[["app-register"]],standalone:!0,features:[h],decls:15,vars:3,consts:[[3,"ngSubmit"],["appearance","fill"],["matInput","","name","accountNumber","required","",3,"ngModelChange","ngModel"],["matInput","","name","name","required","",3,"ngModelChange","ngModel"],["matInput","","type","password","name","password","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"]],template:function(o,t){o&1&&(i(0,"form",0),f("ngSubmit",function(){return t.onRegister()}),i(1,"mat-form-field",1)(2,"mat-label"),s(3,"Account Number"),r(),i(4,"input",2),g("ngModelChange",function(n){return c(t.accountNumber,n)||(t.accountNumber=n),n}),r()(),i(5,"mat-form-field",1)(6,"mat-label"),s(7,"Name"),r(),i(8,"input",3),g("ngModelChange",function(n){return c(t.name,n)||(t.name=n),n}),r()(),i(9,"mat-form-field",1)(10,"mat-label"),s(11,"Password"),r(),i(12,"input",4),g("ngModelChange",function(n){return c(t.password,n)||(t.password=n),n}),r()(),i(13,"button",5),s(14,"Register"),r()()),o&2&&(u(4),p("ngModel",t.accountNumber),u(4),p("ngModel",t.name),u(4),p("ngModel",t.password))},dependencies:[P,v,w,_,S,x,N,y,M,F,L,I,O,R,E,W],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}mat-label[_ngcontent-%COMP%]{font-weight:700;color:#333}input[matInput][_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:4px}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let m=e;return m})();var U={production:!0,apiUrl:"http://localhost:3000/"};var z=(()=>{let e=class e{constructor(a,o,t){this.http=a,this.router=o,this.authService=t,this.accountNumber="",this.password="",this.url="",this.url=U.apiUrl}ngOnInit(){}onLogin(){if(!this.accountNumber||!this.password){alert("Please enter both account number and password.");return}this.authService.login(this.accountNumber,this.password).subscribe({next:a=>{if(a.length>0){let o=a[0];this.authService.setLoggedIn(!0),this.authService.setLoggedInAccountNumber(o.accountNumber),this.authService.setLoggedInUserName(o.name),this.router.navigate(["/dashboard"])}else alert("Invalid account number or password.")},error:()=>alert("Login failed. Please try again.")})}onRegister(){this.router.navigate(["/auth/register"])}};e.\u0275fac=function(o){return new(o||e)(d(D),d(C),d(k))},e.\u0275cmp=b({type:e,selectors:[["app-login"]],standalone:!0,features:[h],decls:16,vars:3,consts:[[1,"login-container"],[3,"ngSubmit"],["appearance","fill"],["matInput","","name","accountNumber","required","",3,"ngModelChange","ngModel"],["matInput","","name","password","type","password","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],["mat-button","","color","accent",3,"click"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"h2"),s(2,"Login"),r(),i(3,"form",1),f("ngSubmit",function(){return t.onLogin()}),i(4,"mat-form-field",2)(5,"mat-label"),s(6,"Account Number"),r(),i(7,"input",3),g("ngModelChange",function(n){return c(t.accountNumber,n)||(t.accountNumber=n),n}),r()(),i(8,"mat-form-field",2)(9,"mat-label"),s(10,"Password"),r(),i(11,"input",4),g("ngModelChange",function(n){return c(t.password,n)||(t.password=n),n}),r()(),i(12,"button",5),s(13,"Login"),r()(),i(14,"button",6),f("click",function(){return t.onRegister()}),s(15),r()()),o&2&&(u(7),p("ngModel",t.accountNumber),u(4),p("ngModel",t.password),u(4),q("Don't have an account? Register ",t.url,""))},dependencies:[P,v,w,_,S,x,N,y,M,F,L,I,O,R,E,W],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:30px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333;font-size:24px;font-weight:600}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}button[_ngcontent-%COMP%]{width:100%;margin-top:10px}button[mat-raised-button][_ngcontent-%COMP%]{background-color:#007bff;color:#fff}button[mat-button][_ngcontent-%COMP%]{color:#007bff;text-transform:none}button[mat-button][_ngcontent-%COMP%]:hover{background-color:#007bff1a}button[mat-raised-button][_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let m=e;return m})();var Y=[{path:"register",component:A},{path:"login",component:z}],bt=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=j({type:e}),e.\u0275inj=B({imports:[T.forChild(Y),T]});let m=e;return m})();export{bt as AuthModule};
